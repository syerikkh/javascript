<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fading Colorful Circles</title>
    <style>
        .container {
            display: flex;
            flex-wrap: wrap;
        }

        .circles {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin: 10px;
            background: linear-gradient(45deg, #3498db, #e74c3c);
            /* Initial gradient color */
            transition: background 1s ease-in-out;
            /* Add transition for background */
        }
    </style>
</head>

<body>

    <label for="inputNumber">Enter the number of circles:</label>
    <input type="number" id="inputNumber" value="5">
    <button id="generateBtn">Generate Circles</button>

    <script>
        function colorfulCircles() {
            const inputNum = document.getElementById("inputNumber").value;
            const container = document.createElement("div");
            container.classList.add("container");

            for (let i = 0; i < inputNum; i++) {
                const circles = document.createElement("div");
                circles.classList.add("circles");

                // Start the color fade animation
                startColorFadeAnimation(circles);

                container.appendChild(circles);
            }

            const existingContainer = document.querySelector(".container");
            if (existingContainer) {
                existingContainer.innerHTML = ''; // Clear existing circles
            }

            document.body.appendChild(container);
        }

        const generateBtn = document.getElementById("generateBtn");
        generateBtn.addEventListener("click", colorfulCircles);

        function startColorFadeAnimation(element) {
            setInterval(function () {
                const randomHue = Math.floor(Math.random() * 360);
                const gradientColor = `linear-gradient(45deg, hsl(${randomHue}, 70%, 60%), hsl(${(randomHue + 180) % 360}, 70%, 60%))`;
                element.style.background = gradientColor;
            }, 2000); // Change color every 2 seconds
        }
    </script>

</body>

</html>